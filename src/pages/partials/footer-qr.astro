---
export const partial = true;
import FooterQR from "../../components/FooterQR.astro";
import { getQueueCountByPartySlug } from '../../controllers/queueController';

let songCount = 0;
let slug;

if (Astro.request.method === "GET") {
  slug = await Astro.url.searchParams.get('slug')
  songCount = await getQueueCountByPartySlug(slug as string) as number;
}
---

<FooterQR slug={slug} showQR={!!songCount} />