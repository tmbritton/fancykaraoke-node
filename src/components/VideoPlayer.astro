---
import { getSongById } from '../controllers/songController'

interface Props{
  songId: number
}

const { songId } = Astro.props

const song = await getSongById(songId)
---

<iframe
  class="videoPlayer"
  src=`https://www.youtube.com/embed/${song?.youtube_id}`
  title="YouTube video player"
  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
  referrerpolicy="strict-origin-when-cross-origin"
  allowfullscreen>
</iframe>

<style>
  .videoPlayer {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
</style>